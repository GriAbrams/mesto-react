{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/SubmitPopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButton","isLiked","likes","some","i","cardLikeButton","aria-label","onClick","onCardDelete","link","name","onCardClick","onCardLike","length","Main","cards","avatar","onEditAvatar","about","onEditProfile","onAddPlace","map","Footer","ImagePopup","isOpen","onOverlayClick","onClose","PopupWithForm","title","action","noValidate","onSubmit","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","setButtonText","useEffect","evt","preventDefault","onUpdateUser","type","id","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","setLink","SubmitPopup","api","config","this","_url","url","_headers","headers","params","fetch","then","res","ok","json","Promise","reject","status","_sendRequest","method","data","body","JSON","stringify","cardId","like","authorization","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","isImagePopupOpen","setImagePopupOpen","isSubmitPopupOpen","setSubmitPopupOpen","closeAllPopups","setCurrentUser","setCards","handleCloseOverlayClick","currentTarget","all","getUserInfo","getInitialCards","userData","catch","err","console","log","handleEscClose","key","document","addEventListener","removeEventListener","Provider","changeLikeCardStatus","newCard","newCards","c","inputValues","setUserInfo","addNewCard","userLink","editUserAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b3c0c779.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import logo from '../images/logo.svg';\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"Логотип сайта Место\" className=\"header__logo\" />\r\n    </header>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButton = (`card__btn ${isOwn ? 'card__btn_action_delete-visible' : 'card__btn_action_delete-none'}`);\r\n  \r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButton = (`card__btn ${isLiked ? 'card__btn_action_like-active' : 'card__btn_action_like-inactive'}`); \r\n\r\n  \r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <button className={cardDeleteButton} aria-label=\"Удалить карточку\" onClick={handleCardDelete}></button>\r\n      <img className=\"card__img\" src={props.card.link} alt={props.card.name} onClick={handleClick} />\r\n      <div className=\"card__descr\">\r\n        <h2 className=\"card__title\">{props.card.name}</h2>\r\n        <div className=\"card__like-wrapper\">\r\n          <button className={cardLikeButton} aria-label=\"Поставить лайк\" onClick={handleLikeClick}></button>\r\n          <p className=\"card__like-counter\">{props.card.likes.length}</p>\r\n        </div>\r\n      </div> \r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  if (props.cards.length === 0) {\r\n    return (\r\n      <main className=\"content\">\r\n        <div className=\"content__loader\"></div>\r\n      </main>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-wrapper\">\r\n          <img src={currentUser.avatar} alt=\"Аватар пользователя\" className=\"profile__avatar\" />\r\n          <button className=\"profile__avatar-btn\" onClick={props.onEditAvatar}></button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <p className=\"profile__job\">{currentUser.about}</p>\r\n          <button className=\"profile__btn profile__btn_action_edit\" aria-label=\"Редактировать профиль\" onClick={props.onEditProfile}></button>\r\n        </div>\r\n        <button className=\"profile__btn profile__btn_action_add\" aria-label=\"Добавить новую карточку\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        {props.cards.map(card =>\r\n          <Card\r\n            card={card}\r\n            key={card._id}\r\n            onCardClick={props.onCardClick}\r\n            onCardLike={props.onCardLike}\r\n            onCardDelete={props.onCardDelete}\r\n          />\r\n        )}\r\n      </section>\r\n    </main>\r\n  )\r\n}","export default function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}","export default function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_action_opened-img ${props.isOpen ? 'popup_action_opened' : ''}`} onClick={props.onOverlayClick}>\r\n      <div className=\"popup__container popup__container_opened-img\">\r\n        <img src={props.card.link} alt={props.card.name} className=\"popup__img\" />\r\n        <h2 className=\"popup__title popup__title_opened-img\">{props.card.name}</h2>\r\n        <button className=\"popup__btn popup__btn_action_close\" aria-label=\"Закрыть окно\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}","export default function PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup popup_action_${props.name} ${props.isOpen ? 'popup_action_opened' : ''}`} onClick={props.onOverlayClick}>\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <form action=\"#\" className={`popup__form popup__form_${props.name}`} name={props.name} noValidate onSubmit={props.onSubmit}>\r\n          {props.children}\r\n          <button className=\"popup__btn popup__btn_action_save\">{props.buttonText}</button>\r\n        </form>\r\n        <button className=\"popup__btn popup__btn_action_close\" aria-label=\"Закрыть окно\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const [buttonText, setButtonText] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setButtonText('Сохранить');\r\n  }, [props.isOpen]);\r\n\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    setButtonText('Сохранение...');\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n  \r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='edit'\r\n      title='Редактировать профиль'\r\n      buttonText={buttonText}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onOverlayClick={props.onOverlayClick}\r\n      onSubmit={handleSubmit}\r\n      children={\r\n        <>\r\n          <label className=\"popup__label\">\r\n            <input type=\"text\" className=\"popup__input\" id=\"user-name\" name=\"name\" placeholder=\"Ваше имя\" minLength=\"2\" maxLength=\"40\" required value={name || ''} onChange={handleNameChange} />\r\n            <span className=\"popup__input-error\" id=\"user-name-error\"></span>\r\n          </label>\r\n          <label className=\"popup__label\">\r\n            <input type=\"text\" className=\"popup__input\" id=\"about\" name=\"about\" placeholder=\"Расскажите о себе\" minLength=\"2\" maxLength=\"200\" required value={description || ''} onChange={handleDescriptionChange} />\r\n            <span className=\"popup__input-error\" id=\"about-error\"></span>\r\n          </label>\r\n        </>\r\n      }\r\n    />\r\n  )\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef('');\r\n  const [buttonText, setButtonText] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    avatarRef.current.value = '';\r\n    setButtonText('Сохранить');\r\n  }, [props.isOpen]);\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    setButtonText('Сохранение...');\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='avatar'\r\n      title='Обновить аватар'\r\n      buttonText={buttonText}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onOverlayClick={props.onOverlayClick}\r\n      onSubmit={handleSubmit}\r\n      children={\r\n        <>\r\n        <label className=\"popup__label\">\r\n          <input type=\"url\" className=\"popup__input\" id=\"link\" name=\"link\" placeholder=\"Ссылка на картинку\" required ref={avatarRef} />\r\n          <span className=\"popup__input-error\" id=\"link-error\"></span>\r\n        </label>\r\n        </>\r\n      }\r\n    />\r\n  )\r\n}\r\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function AddPlacePopup(props) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n  const [buttonText, setButtonText] = React.useState('');\n\n  React.useEffect(() => {\n    setName('');\n    setLink('');\n    setButtonText('Создать');\n  }, [props.isOpen]);\n\n  function handleAddTitle(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleAddLink(evt) {\n    setLink(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    setButtonText('Создание...')\n    props.onAddPlace({\n      name,\n      link\n    });\n  }\n\n\n  return (\n    <PopupWithForm\n      name='add'\n      title='Новое место'\n      buttonText={buttonText}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onOverlayClick={props.onOverlayClick}\n      onSubmit={handleSubmit}\n      children={\n        <>\n          <label className=\"popup__label\">\n            <input type=\"text\" className=\"popup__input\" id=\"place-name\" name=\"name\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\" required value={name || ''} onChange={handleAddTitle} />\n            <span className=\"popup__input-error\" id=\"place-name-error\"></span>\n          </label>\n          <label className=\"popup__label\">\n            <input type=\"url\" className=\"popup__input\" id=\"link\" name=\"link\" placeholder=\"Ссылка на картинку\" required value={link || ''} onChange={handleAddLink} />\n            <span className=\"popup__input-error\" id=\"link-error\"></span>\n          </label>\n        </>\n      }\n    />\n  )\n}","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function SubmitPopup(props) {\n  const [buttonText, setButtonText] = React.useState('');\n\n  React.useEffect(() => {\n    setButtonText('Да');\n  }, [props.isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    setButtonText('Удаление...');\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <PopupWithForm\n      name='confirm'\n      title='Вы уверены?'\n      buttonText={buttonText}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onOverlayClick={props.onOverlayClick}\n      onCardDelete={props.onCardDelete}\n      onSubmit={handleSubmit}\n    />\n  )\n}","class Api {\r\n  constructor (config) {\r\n    this._url = config.url;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n  _sendRequest(link, params) {\r\n    return fetch(link, params)\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      });\r\n  }\r\n\r\n  getUserInfo() {\r\n    return this._sendRequest(`${this._url}/users/me`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    });\r\n  }\r\n\r\n  getInitialCards() {\r\n    return this._sendRequest(`${this._url}/cards`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    });\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    return this._sendRequest(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    });\r\n  }\r\n\r\n  addNewCard(data) {\r\n    return this._sendRequest(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    });\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return this._sendRequest(`${this._url}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    });\r\n  }\r\n\r\n  changeLikeCardStatus(card, like) {\r\n    if (like) {\r\n      return this._sendRequest(`${this._url}/cards/likes/${card}`, {\r\n        method: 'DELETE',\r\n        headers: this._headers\r\n      });\r\n    } else {\r\n      return this._sendRequest(`${this._url}/cards/likes/${card}`, {\r\n        method: 'PUT',\r\n        headers: this._headers\r\n      });\r\n    }\r\n  }\r\n\r\n  editUserAvatar(data) {\r\n    return this._sendRequest(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data)\r\n    });\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-16',\r\n  headers: {\r\n    authorization: 'cff0131c-0138-49c4-8a3e-05b81096baf4',\r\n    'content-type': 'application/json'\r\n  }\r\n});","import React from 'react'\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport SubmitPopup from './SubmitPopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { api } from '../utils/Api';\n\nexport default function App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  const [selectedCard, setSelectedCard] = React.useState('');\n\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setImagePopupOpen(true);\n  }\n\n  const [isSubmitPopupOpen, setSubmitPopupOpen] = React.useState(false);\n  function handleDeleteClick(card) {\n    setSelectedCard(card);\n    setSubmitPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setSelectedCard('');\n    setImagePopupOpen(false);\n    setSubmitPopupOpen(false);\n  }\n\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n    .then(([userData, cards]) => {\n      setCurrentUser(userData);\n      setCards(cards);\n    }).catch((err) => console.log(err));\n  }, [])\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked)\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    }).catch((err) => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n    .then(() => {\n      const newCards = cards.filter((c) => c !== card);\n      setCards(newCards);\n      closeAllPopups();\n    }).catch((err) => console.log(err));\n  }\n\n  function handleUpdateUser(inputValues) {\n    api.setUserInfo(inputValues)\n    .then((data) => {\n      setCurrentUser(data);\n      closeAllPopups();\n    }).catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(userLink) {\n    api.editUserAvatar(userLink)\n    .then((data) => {\n      setCurrentUser(data);\n      closeAllPopups();\n    }).catch((err) => console.log(err));\n  }\n\n  function handleAddPlaceSubmit(inputValues) {\n    api.addNewCard(inputValues)\n    .then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    }).catch((err) => console.log(err))\n  }\n\n  function handleCloseOverlayClick(evt) {\n    if (evt.target === evt.currentTarget) { \n      closeAllPopups(); \n    } \n  }\n\n  React.useEffect(() => {\n    function handleEscClose(evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups(); \n      }\n    }\n    document.addEventListener('keydown', handleEscClose);\n    return () => {\n      document.removeEventListener('keydown', handleEscClose);\n    }\n  })\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"body\">\n        <div className=\"page\">\n          <Header />\n          <Main\n            cards={cards}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleDeleteClick}\n            />\n          <Footer />\n        </div>\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          onOverlayClick={handleCloseOverlayClick}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          onOverlayClick={handleCloseOverlayClick}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          onOverlayClick={handleCloseOverlayClick}\n        />\n        <SubmitPopup \n          card={selectedCard}\n          isOpen={isSubmitPopupOpen}\n          onClose={closeAllPopups}\n          onCardDelete={handleCardDelete}\n          onOverlayClick={handleCloseOverlayClick}\n        />\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n          onOverlayClick={handleCloseOverlayClick}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}